document.addEventListener("DOMContentLoaded",function(){console.log("Edusite CO theme loaded");const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");e&&t&&e.addEventListener("click",function(){t.classList.toggle("hidden")});const n=document.getElementById("main-mobile-menu-button"),o=document.getElementById("main-mobile-menu");n&&o&&n.addEventListener("click",function(){o.classList.toggle("hidden")}),document.addEventListener("click",function(a){!t||t.contains(a.target)||e.contains(a.target)||t.classList.add("hidden"),!o||o.contains(a.target)||n.contains(a.target)||o.classList.add("hidden")});const a=document.querySelector(".menu-toggle"),i=document.querySelector(".main-navigation");a&&i&&a.addEventListener("click",function(){i.classList.toggle("toggled")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t.length>1){const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth"}))}})}),document.querySelector(".swiper-container")&&"undefined"!=typeof Swiper&&new Swiper(".swiper-container",{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});const s=document.getElementById("theme-toggle"),c=document.documentElement;if(s){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===e||!e&&t?c.classList.add("dark"):c.classList.remove("dark"),s.addEventListener("click",function(){c.classList.toggle("dark"),c.classList.contains("dark")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){localStorage.getItem("theme")||(e.matches?c.classList.add("dark"):c.classList.remove("dark"))})}const r=document.querySelector("audio");r&&r.setAttribute("title",'<?php echo esc_js(get_theme_mod("himno_audio_label", "Reproductor del Himno Institucional")); ?>');const l=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});if(document.querySelectorAll("section > div").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",l.observe(e)}),document.getElementById("map")&&"undefined"!=typeof L){const e=L.map("map").setView([2.4402181,-76.6078959],15);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors",maxZoom:19,className:"leaflet-tiles"}).addTo(e),L.marker([2.4402181,-76.6078959]).addTo(e).bindPopup('<div style="font-family: Plus Jakarta Sans; font-weight: 600;"><strong>üìç IERP Popay√°n</strong><br>Sede Principal<br><a href="tel:+573015551234">+57 301 555 1234</a></div>').openPopup()}});