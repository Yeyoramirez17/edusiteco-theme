(()=>{"use strict";var e,t={917:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,l=window.wp.blockEditor,r=window.wp.components,n=window.wp.data,o=window.wp.editor,i=JSON.parse('{"UU":"edusiteco/teacher-project"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{title:c,authors:s,image:m,description:d,gallery:p,pdf:u}=e,g=(0,n.useSelect)(e=>e(o.store).getCurrentPostType(),[]),b=(0,l.useBlockProps)({className:"p-4 border rounded-lg bg-white shadow-md"});return"profesor"!==g?(0,t.createElement)("div",{...b},(0,t.createElement)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded"},(0,t.createElement)("p",{className:"text-yellow-800 font-semibold"},"âš ï¸ ",(0,a.__)('Este bloque solo estÃ¡ disponible para el tipo de contenido "Profesor".',"teacher-project")))):(0,t.createElement)("div",{...b},(0,t.createElement)("h3",{className:"text-xl font-bold mb-4"},"Proyecto del Profesor"),(0,t.createElement)(r.TextControl,{__next40pxDefaultSize:!0,label:"TÃ­tulo del Proyecto",value:c,onChange:e=>i({title:e})}),(0,t.createElement)(r.TextControl,{__next40pxDefaultSize:!0,label:"Autor(es)",value:s,onChange:e=>i({authors:e})}),(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{onSelect:e=>i({image:e}),allowedTypes:["image"],render:({open:e})=>(0,t.createElement)("div",{className:"my-4"},(0,t.createElement)(r.Button,{onClick:e,variant:"secondary"},m?"Cambiar imagen principal":"Subir imagen principal"),m&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.Button,{onClick:()=>i({image:null}),variant:"link",isDestructive:!0,className:"ml-2"},"Eliminar"),(0,t.createElement)("img",{src:m.url,alt:m.alt,className:"mt-2 w-full max-w-xs rounded object-cover",style:{height:"200px"}})))})),(0,t.createElement)(r.TextareaControl,{__nextHasNoMarginBottom:!0,label:"DescripciÃ³n extensa",value:d,onChange:e=>i({description:e}),rows:6}),(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{onSelect:e=>i({gallery:e}),allowedTypes:["image","video"],multiple:!0,gallery:!0,render:({open:e})=>(0,t.createElement)("div",{className:"my-4"},(0,t.createElement)(r.Button,{onClick:e,variant:"secondary"},p?.length>0?`Editar galerÃ­a (${p.length})`:"Agregar galerÃ­a"),p?.length>0&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.Button,{onClick:()=>i({gallery:[]}),variant:"link",isDestructive:!0,className:"ml-2"},"Limpiar galerÃ­a"),(0,t.createElement)("div",{className:"grid grid-cols-4 gap-2 mt-2"},p.map((e,a)=>(0,t.createElement)("div",{key:e.id||a,className:"relative group"},"image"===e.type?(0,t.createElement)("img",{src:e.url,alt:e.alt||`Imagen ${a+1}`,className:"rounded w-full h-24 object-cover"}):(0,t.createElement)("div",{className:"rounded w-full h-24 bg-gray-800 flex items-center justify-center"},(0,t.createElement)("span",{className:"text-white text-2xl"},"â–¶ï¸")),(0,t.createElement)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 flex items-center justify-center rounded transition-opacity"},(0,t.createElement)("span",{className:"text-white text-xs"},"image"===e.type?"Imagen":"Video")))))))})),(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{onSelect:e=>i({pdf:e}),allowedTypes:["application/pdf"],render:({open:e})=>(0,t.createElement)("div",{className:"my-4"},(0,t.createElement)(r.Button,{onClick:e,variant:"secondary"},u?"Cambiar documento PDF":"Subir documento PDF"),u&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.Button,{onClick:()=>i({pdf:null}),variant:"link",isDestructive:!0,className:"ml-2"},"Eliminar"),(0,t.createElement)("p",{className:"mt-2 text-sm text-gray-600"},"ðŸ“„ ",u.filename)))})))},save:function({attributes:e}){const{title:a,authors:r,image:n,description:o,gallery:i,pdf:c}=e,s=l.useBlockProps.save({className:"teacher-project p-4 border rounded-lg bg-white shadow-md"});return(0,t.createElement)("div",{...s},n&&(0,t.createElement)("img",{src:n.url,alt:n.alt,className:"w-full mb-4 rounded"}),(0,t.createElement)("h3",{className:"text-xl font-bold"},a),(0,t.createElement)("p",{className:"italic text-gray-600 mb-4"},"Por: ",r),(0,t.createElement)("p",{className:"mb-4"},o),i?.length>0&&(0,t.createElement)("div",{className:"grid grid-cols-3 gap-2 mb-4"},i.map(e=>(0,t.createElement)("img",{key:e.id,src:e.url,alt:e.alt,className:"rounded"}))),c&&(0,t.createElement)("a",{href:c.url,className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",target:"_blank",rel:"noopener noreferrer"},"Descargar PDF"))}})}},a={};function l(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,a,r,n)=>{if(!a){var o=1/0;for(m=0;m<e.length;m++){for(var[a,r,n]=e[m],i=!0,c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(l.O).every(e=>l.O[e](a[c]))?a.splice(c--,1):(i=!1,n<o&&(o=n));if(i){e.splice(m--,1);var s=r();void 0!==s&&(t=s)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,r,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={651:0,331:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,[o,i,c]=a,s=0;if(o.some(t=>0!==e[t])){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(c)var m=c(l)}for(t&&t(a);s<o.length;s++)n=o[s],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(m)},a=globalThis.webpackChunkunderscores=globalThis.webpackChunkunderscores||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=l.O(void 0,[331],()=>l(917));r=l.O(r)})();