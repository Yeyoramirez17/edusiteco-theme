(()=>{"use strict";var e,t={407:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,r=window.wp.blockEditor,l=window.wp.components,i=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),s=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:d,...m},u)=>(0,t.createElement)("svg",{ref:u,...o,width:a,height:a,stroke:e,strokeWidth:l?24*Number(r)/Number(a):r,className:n("lucide",i),...!c&&!s(m)&&{"aria-hidden":"true"},...m},[...d.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),d=(e,a)=>{const r=(0,t.forwardRef)(({className:r,...l},s)=>{return(0,t.createElement)(c,{ref:s,iconNode:a,className:n(`lucide-${o=i(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...l});var o});return r.displayName=i(e),r},m=d("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),u=d("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=d("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b=JSON.parse('{"UU":"edusiteco/psico-actividades"}');(0,e.registerBlockType)(b.UU,{edit:function({attributes:e,setAttributes:i}){const{items:n,sectionTitle:s,sectionDescription:o}=e,c=(e,t,a)=>{const r=[...n];r[e][t]=a,i({items:r})},d=e=>e?new Date(e).toISOString().split("T")[0]:"",b=e=>e?new Date(e).toTimeString().slice(0,5):"",p=(e,t,a)=>{t&&a?c(e,"fecha",`${t}T${a}`):t&&c(e,"fecha",`${t}T00:00`)};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Configuraci贸n de la secci贸n","edusiteco"),initialOpen:!0},(0,t.createElement)(l.TextControl,{label:(0,a.__)("T铆tulo de la secci贸n","edusiteco"),value:s,onChange:e=>i({sectionTitle:e})}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Descripci贸n de la secci贸n","edusiteco"),value:o,onChange:e=>i({sectionDescription:e})}))),(0,t.createElement)("div",{className:"editor-psico-talleres p-4 bg-white dark:bg-gray-800 rounded-lg border border-border-light dark:border-border-dark max-w-4xl mx-auto"},(0,t.createElement)("div",{className:"mb-4 pb-3 border-b border-border-light dark:border-border-dark"},(0,t.createElement)(r.RichText,{tagName:"h2",value:s,onChange:e=>i({sectionTitle:e}),className:"text-lg font-semibold text-text-light dark:text-text-dark mb-1",placeholder:(0,a.__)("T铆tulo de la secci贸n...","edusiteco")}),(0,t.createElement)("div",{className:"flex justify-between items-center"},(0,t.createElement)("span",{className:"text-xs text-gray-500 dark:text-gray-400"},(0,a.__)("Actividades:","edusiteco")," ",n.length),o&&(0,t.createElement)("span",{className:"text-xs text-gray-500 dark:text-gray-400 italic"},o))),(0,t.createElement)("div",{className:"space-y-3 mb-4"},0===n.length?(0,t.createElement)("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-700 rounded border border-dashed border-gray-300 dark:border-gray-600"},(0,t.createElement)("p",{className:"text-gray-500 dark:text-gray-400 text-sm"},(0,a.__)("No hay actividades. Agrega una nueva.","edusiteco"))):n.map((e,s)=>(0,t.createElement)("div",{key:s,className:"bg-gray-50 dark:bg-gray-700 rounded border border-border-light dark:border-border-dark p-3"},(0,t.createElement)("div",{className:"flex flex-col md:flex-row gap-3"},(0,t.createElement)("div",{className:"flex-shrink-0 w-full md:w-32 space-y-2"},(0,t.createElement)(r.MediaUploadCheck,null,(0,t.createElement)(r.MediaUpload,{onSelect:e=>c(s,"imagen",e.url),allowedTypes:["image"],render:({open:r})=>(0,t.createElement)("div",{className:`w-full h-28 rounded border-2 ${e.imagen?"border-transparent":"border-dashed border-gray-300 dark:border-gray-600"} cursor-pointer overflow-hidden bg-white dark:bg-gray-600`,onClick:r},e.imagen?(0,t.createElement)("div",{className:"relative w-full h-full"},(0,t.createElement)("img",{src:e.imagen,alt:e.titulo||(0,a.__)("Imagen del taller","edusiteco"),className:"w-full h-full object-cover"}),(0,t.createElement)("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center"},(0,t.createElement)("span",{className:"text-white text-xs font-medium opacity-0 hover:opacity-100 transition-opacity"},(0,a.__)("Cambiar","edusiteco")))):(0,t.createElement)("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400"},(0,t.createElement)("span",{className:"text-lg mb-1"},""),(0,t.createElement)("span",{className:"text-xs text-center px-1"},(0,a.__)("Agregar imagen","edusiteco"))))})),(0,t.createElement)("div",{className:"flex gap-1"},e.imagen&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.MediaUploadCheck,null,(0,t.createElement)(r.MediaUpload,{onSelect:e=>c(s,"imagen",e.url),allowedTypes:["image"],render:({open:e})=>(0,t.createElement)(l.Button,{onClick:e,variant:"secondary",size:"small",className:"flex-1 h-8"},(0,a.__)("Cambiar","edusiteco"))})),(0,t.createElement)(l.Button,{onClick:()=>c(s,"imagen",""),isDestructive:!0,size:"small",className:"h-8 w-8 min-w-6",label:(0,a.__)("Quitar imagen","edusiteco")},(0,t.createElement)(m,{width:28}))))),(0,t.createElement)("div",{className:"flex-1 min-w-0"},(0,t.createElement)("div",{className:"flex gap-2 mb-2 items-center"},(0,t.createElement)(l.TextControl,{value:e.titulo,onChange:e=>c(s,"titulo",e),placeholder:(0,a.__)("T铆tulo del taller","edusiteco"),className:"flex-1 mb-0 text-sm mx-auto"}),(0,t.createElement)(l.Button,{onClick:()=>(e=>{const t=n.filter((t,a)=>a!==e);i({items:t})})(s),isDestructive:!0,size:"small",className:"h-8 w-8 min-w-8 flex-shrink-0 mx-auto !bg-brand-primary-50 hover:!bg-brand-primary-100",label:(0,a.__)("Eliminar actividad","edusiteco")},(0,t.createElement)(u,{width:28}))),(0,t.createElement)("div",{className:"mb-2"},(0,t.createElement)(l.TextControl,{value:e.descripcion,onChange:e=>c(s,"descripcion",e),placeholder:(0,a.__)("Descripci贸n breve del taller...","edusiteco"),className:"mb-0 text-sm"})),(0,t.createElement)("div",{className:"grid grid-cols-1 xs:grid-cols-3 gap-2"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},(0,a.__)("Fecha","edusiteco")),(0,t.createElement)("input",{type:"date",value:d(e.fecha),onChange:t=>p(s,t.target.value,b(e.fecha)),className:"w-full px-2 py-1 text-sm border border-border-light dark:border-border-dark rounded bg-white dark:bg-gray-600 text-text-light dark:text-text-dark"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},(0,a.__)("Hora","edusiteco")),(0,t.createElement)("input",{type:"time",value:b(e.fecha),onChange:t=>p(s,d(e.fecha),t.target.value),className:"w-full px-2 py-1 text-sm border border-border-light dark:border-border-dark rounded bg-white dark:bg-gray-600 text-text-light dark:text-text-dark"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},(0,a.__)("Lugar","edusiteco")),(0,t.createElement)(l.TextControl,{value:e.lugar,onChange:e=>c(s,"lugar",e),placeholder:(0,a.__)("Ej: Aula 101","edusiteco"),className:"mb-0 text-sm"})))))))),(0,t.createElement)("div",{className:"flex justify-center"},(0,t.createElement)(l.Button,{onClick:()=>{i({items:[...n,{titulo:"",descripcion:"",fecha:"",lugar:"",imagen:""}]})},variant:"primary",className:"bg-brand-primary hover:bg-brand-primary-600 text-white text-sm py-1 px-4 rounded transition-colors duration-200 w-auto max-w-xs"},(0,t.createElement)(g,{width:32})," ",(0,a.__)("Agregar actividad","edusiteco")))))}})}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,a,l,i)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,l,i]=e[d],s=!0,o=0;o<a.length;o++)(!1&i||n>=i)&&Object.keys(r.O).every(e=>r.O[e](a[o]))?a.splice(o--,1):(s=!1,i<n&&(n=i));if(s){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,l,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={778:0,286:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,i,[n,s,o]=a,c=0;if(n.some(t=>0!==e[t])){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(o)var d=o(r)}for(t&&t(a);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},a=globalThis.webpackChunkunderscores=globalThis.webpackChunkunderscores||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=r.O(void 0,[286],()=>r(407));l=r.O(l)})();