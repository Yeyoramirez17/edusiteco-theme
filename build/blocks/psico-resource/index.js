(()=>{"use strict";var e,t={448:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,r=window.wp.blockEditor,l=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),n=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:d,...m},u)=>(0,t.createElement)("svg",{ref:u,...s,width:a,height:a,stroke:e,strokeWidth:l?24*Number(r)/Number(a):r,className:o("lucide",i),...!c&&!n(m)&&{"aria-hidden":"true"},...m},[...d.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),c=(e,a)=>{const r=(0,t.forwardRef)(({className:r,...n},s)=>{return(0,t.createElement)(i,{ref:s,iconNode:a,className:o(`lucide-${c=l(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n});var c});return r.displayName=l(e),r},d=c("folder-closed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]),m=c("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),u=window.wp.components,p=JSON.parse('{"UU":"edusiteco/psico-recursos"}');(0,e.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:l}){const{items:o,sectionTitle:n,sectionDescription:s,columns:i,imageHeight:c,shadowDepth:p}=e,g=(e,t,a)=>{const r=[...o];r[e][t]=a,l({items:r})},b=[{label:(0,a.__)("Sin sombra (Plano)","edusiteco"),value:0},{label:(0,a.__)("Sombra ligera (2px)","edusiteco"),value:1},{label:(0,a.__)("Sombra media (8px)","edusiteco"),value:2},{label:(0,a.__)("Sombra fuerte (16px)","edusiteco"),value:3}],h=(()=>{const e=o.length,t=Math.min(i,3);return e<=2&&t>e?e:t})();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(u.PanelBody,{title:(0,a.__)("Configuraci칩n de la secci칩n","edusiteco"),initialOpen:!0},(0,t.createElement)(u.TextControl,{label:(0,a.__)("T칤tulo de la secci칩n","edusiteco"),value:n,onChange:e=>l({sectionTitle:e})}),(0,t.createElement)(u.TextControl,{label:(0,a.__)("Descripci칩n de la secci칩n","edusiteco"),value:s,onChange:e=>l({sectionDescription:e}),placeholder:(0,a.__)("Breve descripci칩n de los recursos...","edusiteco")}),(0,t.createElement)(u.RangeControl,{label:(0,a.__)("N칰mero de columnas","edusiteco"),value:i,onChange:e=>l({columns:e}),min:1,max:3,help:(0,a.__)("M치ximo 3 columnas. Se ajusta autom치ticamente seg칰n la cantidad de recursos.","edusiteco")})),(0,t.createElement)(u.PanelBody,{title:(0,a.__)("Estilo de las tarjetas","edusiteco"),initialOpen:!1},(0,t.createElement)(u.RangeControl,{label:(0,a.__)("Alto de la imagen (p칤xeles)","edusiteco"),value:c,onChange:e=>l({imageHeight:e}),min:128,max:400,step:16}),(0,t.createElement)(u.SelectControl,{label:(0,a.__)("Sombra de la tarjeta","edusiteco"),value:p,options:b,onChange:e=>l({shadowDepth:e})}))),(0,t.createElement)("div",{className:"editor-psico-resources p-4 bg-white dark:bg-gray-800 rounded-lg border border-border-light dark:border-border-dark"},(0,t.createElement)("div",{className:"mb-4 pb-3 border-b border-border-light dark:border-border-dark"},(0,t.createElement)(r.RichText,{tagName:"h2",value:n,onChange:e=>l({sectionTitle:e}),className:"text-lg font-semibold text-text-light dark:text-text-dark mb-1",placeholder:(0,a.__)("T칤tulo de la secci칩n...","edusiteco")}),(0,t.createElement)("div",{className:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400"},(0,t.createElement)("span",null,(0,a.__)("Recursos:","edusiteco")," ",o.length," | ",(0,a.__)("Columnas:","edusiteco")," ",h),s&&(0,t.createElement)("span",{className:"italic truncate max-w-xs"},s))),(0,t.createElement)("div",{className:"grid gap-3 mb-4",style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`,justifyItems:1===o.length?"center":"stretch"}},0===o.length?(0,t.createElement)("div",{className:"col-span-full text-center py-6 bg-gray-50 dark:bg-gray-700 rounded border-2 border-dashed border-gray-300 dark:border-gray-600"},(0,t.createElement)("p",{className:"text-gray-500 dark:text-gray-400 text-sm"},(0,a.__)("No hay recursos. Agrega uno nuevo.","edusiteco"))):o.map((e,n)=>(0,t.createElement)("div",{key:n,className:"bg-gray-50 dark:bg-gray-700 rounded-lg border border-border-light dark:border-border-dark p-3 min-w-0",style:{maxWidth:1===o.length?"400px":"none"}},(0,t.createElement)("div",{className:"mb-3"},(0,t.createElement)(r.MediaUploadCheck,null,(0,t.createElement)(r.MediaUpload,{onSelect:e=>g(n,"imagen",e.url),allowedTypes:["image"],render:({open:r})=>(0,t.createElement)("div",{className:`w-full rounded border-2 ${e.imagen?"border-transparent":"border-dashed border-gray-300 dark:border-gray-600"} cursor-pointer overflow-hidden bg-white dark:bg-gray-600`,onClick:r},e.imagen?(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("img",{src:e.imagen,alt:e.titulo||(0,a.__)("Imagen del recurso","edusiteco"),className:"w-full h-28 object-cover"}),(0,t.createElement)("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center"},(0,t.createElement)("span",{className:"text-white text-xs font-medium opacity-0 hover:opacity-100 transition-opacity"},(0,a.__)("Cambiar imagen","edusiteco")))):(0,t.createElement)("div",{className:"w-full h-28 flex flex-col items-center justify-center text-gray-400"},(0,t.createElement)("span",{className:"text-xl mb-1"},"游닝"),(0,t.createElement)("span",{className:"text-xs"},(0,a.__)("Agregar imagen","edusiteco"))))}))),(0,t.createElement)(u.TextControl,{value:e.titulo,onChange:e=>g(n,"titulo",e),placeholder:(0,a.__)("T칤tulo del recurso","edusiteco"),className:"mb-2 text-sm"}),(0,t.createElement)(u.TextareaControl,{value:e.descripcion,onChange:e=>g(n,"descripcion",e),placeholder:(0,a.__)("Descripci칩n del recurso...","edusiteco"),rows:2,className:"mb-2 text-sm"}),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-2 mb-3"},(0,t.createElement)(u.SelectControl,{value:e.tipo,options:[{label:(0,a.__)("Tipo","edusiteco"),value:""},{label:"游늯 PDF",value:"PDF"},{label:"游꿘 Video",value:"Video"},{label:"游늵 Infograf칤a",value:"Infographic"},{label:"游닀 Gu칤a",value:"Guide"},{label:"游깷 Web",value:"Web Resource"}],onChange:e=>g(n,"tipo",e),className:"text-xs"}),(0,t.createElement)(u.TextControl,{value:e.url,onChange:e=>g(n,"url",e),placeholder:(0,a.__)("URL...","edusiteco"),className:"mb-0 text-sm"})),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,t.createElement)(r.MediaUploadCheck,null,(0,t.createElement)(r.MediaUpload,{onSelect:e=>g(n,"url",e.url),allowedTypes:["application/pdf"],render:({open:e})=>(0,t.createElement)(u.Button,{onClick:e,variant:"secondary",size:"small",className:"text-xs h-8 flex items-center justify-center gap-1"},(0,t.createElement)(d,{size:14}),(0,a.__)("Archivo","edusiteco"))})),(0,t.createElement)(u.Button,{onClick:()=>(e=>{const t=o.filter((t,a)=>a!==e);l({items:t})})(n),variant:"tertiary",isDestructive:!0,size:"small",className:"text-xs h-8 flex items-center justify-center gap-1"},(0,t.createElement)(m,{size:14}),(0,a.__)("Eliminar","edusiteco")))))),(0,t.createElement)("div",{className:"flex justify-center"},(0,t.createElement)(u.Button,{onClick:()=>{l({items:[...o,{titulo:"",tipo:"",url:"",imagen:"",descripcion:"",isExternalUrl:!0}]})},variant:"primary",className:"bg-brand-primary hover:bg-brand-primary-600 text-white text-sm py-1 px-6 rounded"},"+ ",(0,a.__)("Agregar recurso","edusiteco")))))}})}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,a,l,o)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,l,o]=e[d],s=!0,i=0;i<a.length;i++)(!1&o||n>=o)&&Object.keys(r.O).every(e=>r.O[e](a[i]))?a.splice(i--,1):(s=!1,o<n&&(n=o));if(s){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,l,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={410:0,630:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,o,[n,s,i]=a,c=0;if(n.some(t=>0!==e[t])){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(i)var d=i(r)}for(t&&t(a);c<n.length;c++)o=n[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},a=globalThis.webpackChunkunderscores=globalThis.webpackChunkunderscores||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=r.O(void 0,[630],()=>r(448));l=r.O(l)})();